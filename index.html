<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <meta http-equiv="Content-Security-Policy" content="default-src 'self' 'unsafe-inline' 'unsafe-eval' data:; style-src 'self' 'unsafe-inline' https://cdn.jsdelivr.net; script-src 'self' 'unsafe-inline' 'unsafe-eval' https://cdn.jsdelivr.net; img-src 'self' data: https:; font-src 'self' data: https://cdn.jsdelivr.net; connect-src 'self' ws: wss: http: https:; frame-src 'self' https://www.youtube.com https://youtube.com https://www.youtube-nocookie.com https://drive.google.com https://docs.google.com;">
    <title>Bull Team - Digital Innovation Stories</title>
    <link rel="shortcut icon" href="./favicon.ico" />
    <link rel="stylesheet" href="./reset.css" />
    <link rel="stylesheet" href="./reveal.css" />
    <link rel="stylesheet" href="./theme/black.css" id="theme" />
    <link rel="stylesheet" href="./css/highlight/base16/zenburn.css" />

    <style>
      /* Author slide animations */
      .author-info, .date-info, .location-info {
        font-size: 0.7em;
        opacity: 0;
        animation: fadeInOut 3.2s infinite;
        transition: opacity 0.4s ease-out;
      }
      
      .date-info {
        animation-delay: 1.5s;
      }
      
      .location-info {
        animation-delay: 3s;
      }

      @keyframes fadeInOut {
        0%, 100% { opacity: 0; }
        20%, 80% { opacity: 1; }
      }

      /* Slide content styles */
      .slide-item-1, .slide-item-2, .slide-item-3, .slide-item-4 {
        margin: 0.6em 0;
        font-size: 1.0em;
        line-height: 1.4;
      }

      .slide-item-small {
        margin: 0.4em 0;
        font-size: 0.9em;
        line-height: 1.3;
      }

      .vertical-slides {
        font-size: 0.85em;
      }

      .storyboard-section {
        background: linear-gradient(135deg, rgba(46, 125, 50, 0.2), rgba(76, 175, 80, 0.2));
        padding: 20px;
        border-radius: 10px;
        margin: 15px 0;
      }

      .tech-diagram {
        background: linear-gradient(135deg, rgba(33, 150, 243, 0.2), rgba(63, 81, 181, 0.2));
        padding: 20px;
        border-radius: 10px;
        margin: 15px 0;
      }

      .visual-layout {
        background: linear-gradient(135deg, rgba(156, 39, 176, 0.2), rgba(233, 30, 99, 0.2));
        padding: 20px;
        border-radius: 10px;
        margin: 15px 0;
      }

      .slide-item-1 { animation-delay: 0.2s; }
      .slide-item-2 { animation-delay: 0.4s; }
      .slide-item-3 { animation-delay: 0.6s; }
      .slide-item-4 { animation-delay: 0.8s; }

      .presentation-link {
        margin-top: 20px;
        font-size: 0.8em;
        color: #3498db;
      }

      .contact-info {
        margin-top: 15px;
        font-size: 0.6em;
        color: #ecf0f1;
      }

      .special-link {
        color: #e74c3c;
        font-weight: bold;
      }

      /* Technology stack styling */
      .tech-stack {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
        gap: 25px;
        margin: 25px 0;
        max-width: 100%;
      }

      .tech-item {
        background: linear-gradient(135deg, rgba(52, 152, 219, 0.2), rgba(155, 89, 182, 0.2));
        padding: 18px;
        border-radius: 8px;
        border: 1px solid rgba(52, 152, 219, 0.3);
        font-size: 0.9em;
        min-height: 120px;
      }

      /* Workflow styling */
      .workflow-step {
        background: linear-gradient(135deg, rgba(46, 204, 113, 0.2), rgba(52, 152, 219, 0.2));
        padding: 15px;
        margin: 10px 0;
        border-radius: 8px;
        border-left: 4px solid #2ecc71;
      }

      /* Feature highlighting */
      .feature-highlight {
        background: linear-gradient(135deg, rgba(230, 126, 34, 0.2), rgba(231, 76, 60, 0.2));
        padding: 15px;
        margin: 10px 0;
        border-radius: 8px;
        border-left: 4px solid #e67e22;
      }

      /* Responsive text sizing for better viewport fit */
      .reveal h1 {
        font-size: 2.6em !important;
        line-height: 1.1 !important;
        margin: 0.5em 0 !important;
      }

      .reveal h2 {
        font-size: 2.1em !important;
        line-height: 1.2 !important;
        margin: 0.4em 0 !important;
      }

      .reveal .slides section {
        padding: 35px !important;
      }

      /* Optimize content spacing for larger viewport */
      .slide-item-1, .slide-item-2, .slide-item-3, .slide-item-4 {
        margin: 0.6em 0 !important;
        font-size: 1.1em !important;
        line-height: 1.5 !important;
      }

      .workflow-step {
        padding: 18px !important;
        margin: 12px 0 !important;
        font-size: 1.0em !important;
      }

      .feature-highlight {
        padding: 18px !important;
        margin: 12px 0 !important;
        font-size: 1.0em !important;
      }
    </style>
  </head>

  <body>
    <div class="reveal">
      <div class="slides">
        <section data-markdown="slides.md"
                 data-separator="^---$"
                 data-separator-vertical="^--$"
                 data-separator-notes="^Note:" data-charset="utf-8">
        </section>
    </div>

    <script type="module">
      import Reveal from 'https://cdn.jsdelivr.net/npm/reveal.js@5.1.0/dist/reveal.esm.js';
      import RevealMarkdown from 'https://cdn.jsdelivr.net/npm/reveal.js@5.1.0/plugin/markdown/markdown.esm.js';

      const deck = new Reveal({
        hash: true,
        controls: true,
        progress: true,
        center: true,
        transition: 'slide',
        backgroundTransition: 'fade',
        width: 1200,
        height: 850,
        minScale: 0.1,
        maxScale: 3.0,
        margin: 0.01,
        plugins: [ RevealMarkdown ]
      });
      deck.initialize();

      // Listen for presentation state changes (for mobile control)
      deck.on('slidechanged', function(event) {
        const slideTitle = event.currentSlide.querySelector('h1, h2')?.textContent || 'Bull Team';
        const message = {
          type: 'reveal-state',
          state: {
            indexh: event.indexh,
            indexv: event.indexv,
            slideTitle: slideTitle
          }
        };
        
        // Send to parent window (for control page)
        try {
          window.parent.postMessage(message, '*');
          // Also send to opener (for popup windows)
          if (window.opener) {
            window.opener.postMessage(message, '*');
          }
        } catch (e) {
          console.log('Message sending failed:', e);
        }
      });

      // Listen for control commands
      window.addEventListener('message', function(event) {
        if (event.data && event.data.type === 'reveal-control') {
          const { command, args } = event.data;
          
          try {
            switch (command) {
              case 'next':
                deck.next();
                break;
              case 'prev':
                deck.prev();
                break;
              case 'up':
                deck.up();
                break;
              case 'down':
                deck.down();
                break;
              case 'slide':
                deck.slide(args.h, args.v);
                break;
              case 'toggleOverview':
                deck.toggleOverview();
                break;
              case 'togglePause':
                deck.togglePause();
                break;
              case 'toggleNotes':
                deck.toggleNotes();
                break;
            }
            
            // Send acknowledgment
            const source = event.source;
            if (source) {
              source.postMessage({
                type: 'reveal-ack',
                command: command
              }, event.origin);
            }
          } catch (e) {
            console.log('Command execution failed:', e);
          }
        }
      });
      
      // Send initial state when loaded
      deck.on('ready', function(event) {
        setTimeout(() => {
          const slideTitle = event.currentSlide.querySelector('h1, h2')?.textContent || 'Bull Team';
          const message = {
            type: 'reveal-state',
            state: {
              indexh: event.indexh,
              indexv: event.indexv,
              slideTitle: slideTitle
            }
          };
          
          try {
            window.parent.postMessage(message, '*');
            if (window.opener) {
              window.opener.postMessage(message, '*');
            }
          } catch (e) {
            console.log('Initial state message failed:', e);
          }
        }, 500);
      });
    </script>
  </body>
</html>